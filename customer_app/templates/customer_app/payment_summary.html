<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Form</title>
    <link rel="stylesheet" href="{% static 'customer_app/css/payment_summary.css' %}">
</head>
<body>
    
    <div class="container">
        <!-- Payment Method Section -->
        <div class="payment-method">
            <h2>Payment Form</h2>
            <h4>Choose a payment method</h4>
            <div class="payment-options">
                <div id="gcash-card" class="payment-option-card" onclick="selectPaymentMethod('gcash')">
                    <img src="{% static 'images/gcash.png' %}" alt="GCash Icon" class="payment-logo">
                    <h3 class="payment-text">GCash</h3>
                </div>
                <div id="bpi-card" class="payment-option-card" onclick="selectPaymentMethod('bpi')">
                    <img src="{% static 'images/bpi.png' %}" alt="BPI Icon" class="payment-logo">
                    <h3 class="payment-text">BPI</h3>
                </div>
                <div id="cash-card" class="payment-option-card" onclick="selectPaymentMethod('cash')">
                    <img src="{% static 'images/cash.png' %}" alt="Cash Icon" class="payment-logo">
                    <h3 class="payment-text">Cash</h3>
                </div>
            </div>

            <div id="gcash-details" class="payment-details">
                <img src="{% static 'images/gcash_qrcode.jpg' %}" alt="GCash QR Code" class="qrcode">
                <p><strong>GCash Number: 09123456789</strong></p>
            </div>

            <div id="bpi-details" class="payment-details">
                <img src="{% static 'images/bpi_qrcode.jpeg' %}" alt="BPI QR Code" class="qrcode">
                <p><strong>BPI Account Number: 1234-5678-9012</strong></p>
            </div>

            <div id="proof-of-payment" class="proof-of-payment">
                <label for="proof">Proof of Payment (upload):</label>
                <input type="file" id="proof" name="proof">
            </div>

            <div class="terms">
                <input type="checkbox" id="terms" name="terms">
                <label for="terms">I have read the Terms and Conditions</label>
            </div>
            <div class="go-back-container">
                <a href="{% url 'customerhomepage2' %}?came_from_payment=true" class="btn btn-secondary">Edit your form details</a>
            </div>
        </div>

        <!-- Booking Summary -->
        <div class="booking-summary">
            <h2>Booking Summary</h2>

            <div class="summary-section" class="van-details">
                <img src="{% static 'images/NISSAN_URVAN.jpg' %}" alt="Van Image" class="van-image">
                <p><strong>Van Model:</strong> Foton Transvan</p>
                <p><strong>Van Seats:</strong> 15 pax</p>
                <p><strong>Driver Name:</strong> John Doe</p>
                <hr>
            </div>
            
            <div class="summary-section">
                <h3>Trip Schedule</h3>
                <p><strong>Date and Time:</strong> {{ pickup_datetime }}</p>
                <p><strong>Pick Up Address:</strong> {{ pickup_address }}</p>
                <p><strong>Drop Off Address:</strong> {{ dropoff_address }}</p>
                <hr>
            </div>

            <div class="summary-section">
                <h3>Personal Information</h3>
                <p><strong>Full Name:</strong> {{ full_name }}</p>
                <p><strong>Contact No:</strong> {{ contact_number }}</p>
                <p><strong>No. of Passengers:</strong> {{ passenger_count }}</p>
                <p><strong>Additional Notes:</strong> {{ additional_notes }}</p>
                <p><strong>Round Trip:</strong> {{ round_trip|yesno:"Yes,No" }}</p>
                <hr>
            </div>

            <div class="summary-section">
                <h3>Price Breakdown</h3>
                <p><strong>Package Price:</strong> ₱5000</p>
                <p><strong>With Infant:</strong> {{ with_infant|yesno:"₱500,₱0" }}</p>
                <p><strong>Total Amount:</strong> ₱5500</p>
                <hr>
            </div>

            <div class="summary-section">
                <p><strong>Mode of Payment:</strong> <span id="selected-payment-method">Cash</span></p>
                <button class="book-now-btn">BOOK NOW</button>
                <hr>
            </div>
        </div>
    </div>

    <script>
        function selectPaymentMethod(method) {
    // Remove 'selected' class from all cards
    document.getElementById('gcash-card').classList.remove('selected');
    document.getElementById('bpi-card').classList.remove('selected');
    document.getElementById('cash-card').classList.remove('selected');

    // Hide payment details sections
    document.getElementById('gcash-details').style.display = 'none';
    document.getElementById('bpi-details').style.display = 'none';
    document.getElementById('proof-of-payment').style.display = 'block';  // Show Proof of Payment by default

    // Update the booking summary with the selected payment method
    let paymentMethodText = '';

    if (method === 'gcash') {
        document.getElementById('gcash-details').style.display = 'block';
        document.getElementById('gcash-card').classList.add('selected');
        paymentMethodText = 'GCash';
    } else if (method === 'bpi') {
        document.getElementById('bpi-details').style.display = 'block';
        document.getElementById('bpi-card').classList.add('selected');
        paymentMethodText = 'BPI';
    } else if (method === 'cash') {
        document.getElementById('proof-of-payment').style.display = 'none';
        document.getElementById('cash-card').classList.add('selected');
        paymentMethodText = 'Cash';
    }

    // Update the Mode of Payment in the booking summary
    document.getElementById('selected-payment-method').innerText = paymentMethodText;
}
    </script>
</body>
</html>
